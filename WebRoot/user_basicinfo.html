<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>用户注册页面</title>
<link rel="stylesheet" type="text/css" href="css/public.css" />
<link rel="stylesheet" type="text/css" href="css/page.css" />
<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="js/jquery.cookie.js"></script>
<script type="text/javascript">

// 将form中的值转换为键值对：
// 如：{Name:'摘取天上星',position:'IT技术'}
// ps:注意将同名的放在一个数组里
function getFormJson(form) {
	var o = {};
	var a = $(form).serializeArray();
	$.each(a, function () {
		if (o[this.name] !== undefined) {
			if (!o[this.name].push) {
				o[this.name] = [o[this.name]];
			}
			o[this.name].push(this.value || '');
		} 
		else {
			o[this.name] = this.value || '';
		}
	});
	return o;
};

$(function(){
	/*jQuery处理函数*/

	$("#next").click(function(){
		var data=getFormJson("#ff");
		$.ajax({
			type: "POST",
			url:"#",	//跳转至用于基本信息页
			data:{
				'email':$.cookie("email"),
				'password':$.cookie("password"),
				'username':data.username
			},
			async: false,
			beforeSend:function(jqXHR,settings){
				var ok_username = /^[\u0391-\uFFE5]+$/.test(data.username) | /^[A-Za-z\s]+$/.test(data.username);
				if(!ok_username){
					alert("请输入正确的中文或英文姓名，中文姓名无空格");
					return false;
				}
			},
			error: function(request) {
				alert("注册失败");
			},
			success: function(data) {
				alert("注册成功");
			}
		});
	});
});
</script>
</head>
<!--头部结束-->

<iframe id="head" src="head.html" frameborder="false" scrolling="no" style="border:none;" width="100%" height="223px" allowtransparency="true"></iframe>
<body>
	<div class="mainbody w1000"> <!--主页内容部分-->
		<div class="register">
			<div class="title">
				<span>2.填写基本信息</span>
			</div>
			<div class="info_input">
				<form id="ff" method="post">
					<div class="one_row">
						<label for="username">真实姓名:</label>
						<input type="text" name="username" placeholder="填写用户真实姓名" required="required"></input>
					</div>
				</form>
				<input id="next" type="submit" value="下一步"></input>
			</div>
		</div>
	</div>
	<div style="clear:both;"></div>
</body>
</html>
<iframe id="footer" src="footer.html" frameborder="false" scrolling="off" style="border:none;" width="100%" height="150px" allowtransparency="true"></iframe>


